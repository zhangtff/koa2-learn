(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47830218"],{"44e7":function(t,e,n){var r=n("861d"),i=n("c6b6"),o=n("b622"),a=o("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==i(t))}},"498a":function(t,e,n){"use strict";var r=n("23e7"),i=n("58a8").trim,o=n("c8d2");r({target:"String",proto:!0,forced:o("trim")},{trim:function(){return i(this)}})},"4d63":function(t,e,n){var r=n("83ab"),i=n("da84"),o=n("94ca"),a=n("7156"),s=n("9bf2").f,c=n("241c").f,l=n("44e7"),p=n("ad6d"),d=n("9f7f"),u=n("6eeb"),h=n("d039"),f=n("69f3").set,w=n("2626"),v=n("b622"),g=v("match"),y=i.RegExp,m=y.prototype,k=/a/g,x=/a/g,C=new y(k)!==k,b=d.UNSUPPORTED_Y,T=r&&o("RegExp",!C||b||h((function(){return x[g]=!1,y(k)!=k||y(x)==x||"/a/i"!=y(k,"i")})));if(T){var _=function(t,e){var n,r=this instanceof _,i=l(t),o=void 0===e;if(!r&&i&&t.constructor===_&&o)return t;C?i&&!o&&(t=t.source):t instanceof _&&(o&&(e=p.call(t)),t=t.source),b&&(n=!!e&&e.indexOf("y")>-1,n&&(e=e.replace(/y/g,"")));var s=a(C?new y(t,e):y(t,e),r?this:m,_);return b&&n&&f(s,{sticky:n}),s},S=function(t){t in _||s(_,t,{configurable:!0,get:function(){return y[t]},set:function(e){y[t]=e}})},E=c(y),O=0;while(E.length>O)S(E[O++]);m.constructor=_,_.prototype=m,u(i,"RegExp",_)}w("RegExp")},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("1d80"),i=n("5899"),o="["+i+"]",a=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),c=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(a,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(t,e,n){var r=n("861d"),i=n("d2bb");t.exports=function(t,e,n){var o,a;return i&&"function"==typeof(o=e.constructor)&&o!==n&&r(a=o.prototype)&&a!==n.prototype&&i(t,a),t}},"8d9a":function(t,e,n){},bf1a:function(t,e,n){"use strict";var r=n("8d9a"),i=n.n(r);i.a},c8d2:function(t,e,n){var r=n("d039"),i=n("5899"),o="​᠎";t.exports=function(t){return r((function(){return!!i[t]()||o[t]()!=o||i[t].name!==t}))}},c975:function(t,e,n){"use strict";var r=n("23e7"),i=n("4d64").indexOf,o=n("a640"),a=n("ae40"),s=[].indexOf,c=!!s&&1/[1].indexOf(1,-0)<0,l=o("indexOf"),p=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:c||!l||!p},{indexOf:function(t){return c?s.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},efe3:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-main"},[n("div",{staticClass:"search-box"},[n("div",{staticClass:"search-type"},[t._v(" "+t._s(1===t.selectType?"仅标题":"标题+正文")+" "),n("span",{staticClass:"el-icon-sort",on:{click:t.changeType}})]),n("div",{staticClass:"keyword-box"},[n("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入搜索词"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-search",loading:t.searchLoading},on:{click:t.search},slot:"append"})],1)],1)]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showTip,expression:"showTip"}],staticClass:"list-tip"},[t._v("共有"),n("span",[t._v(t._s(t.resultSum))]),t._v("条检索结果")]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.resultSum>0,expression:"resultSum>0"}],staticClass:"list-box"},[n("ul",t._l(t.dataArr,(function(e,r){return n("li",{key:r},[n("div",{staticClass:"title",domProps:{innerHTML:t._s(e.title)},on:{click:function(n){return t.showDetail(e.id,e.point)}}}),t._l(e.matchArr.slice(0,3),(function(r,i){return n("div",{key:i,staticClass:"item",domProps:{innerHTML:t._s(r.title)},on:{click:function(n){return t.showDetail(e.id,r.point)}}})})),e.showMore&&e.matchArr.length>3?n("div",{staticClass:"show-more",on:{click:function(t){e.showMore=!e.showMore}}},[t._v("更多")]):t._e(),e.showMore?t._e():n("div",{staticClass:"item-box"},t._l(e.matchArr.slice(3,e.matchArr.length),(function(r,i){return n("div",{key:i,staticClass:"item",domProps:{innerHTML:t._s(r.title)},on:{click:function(n){return t.showDetail(e.id,r.point)}}})})),0)],2)})),0)])])},i=[],o=(n("c975"),n("4d63"),n("ac1f"),n("25f0"),n("5319"),n("498a"),{name:"SearchIndex",components:{},data:function(){return{keyword:"",keywordOld:"",selectType:1,searchLoading:!1,resultSum:0,showTip:!1,dataArr:[]}},mounted:function(){},methods:{changeType:function(){1===this.selectType?this.selectType=2:this.selectType=1},search:function(){var t=this;""!==this.keyword.trim()?this.keyword.length<2?alert("关键词不能少于两个字"):(this.searchLoading=!0,this.$axios({method:"post",url:"/api/law/search",data:{type:this.selectType,keyword:this.keyword}}).then((function(e){t.searchLoading=!1;var n=e.data;if(t.resultSum=n.length,t.resultSum>0){var r=[];if(t.keywordOld=t.keyword,1===t.selectType)for(var i in n){var o={};o.id=n[i]._id,o.title=n[i].title.replace(new RegExp(t.keyword,"g"),"<span>".concat(t.keyword,"</span>"))+'<i class="el-icon-arrow-right"></i>',o.point="",o.showMore=!0,o.matchArr=[],r.push(o)}else for(var a in n){var s={};for(var c in s.id=n[a]._id,s.title=n[a].title.replace(new RegExp(t.keyword,"g"),"<span>".concat(t.keyword,"</span>"))+'<i class="el-icon-arrow-right"></i>',s.point="",s.showMore=!0,s.matchArr=[],n[a].content){var l=n[a].content[c].partTitle,p=String(c);if(n[a].content[c].partDes.indexOf(t.keyword)>-1)n[a].content[c].partDes.replace(new RegExp(t.keyword,"g"),"<span>".concat(t.keyword,"</span>")),s.matchArr.push({title:l+" "+n[a].content[c].partDes+'<i class="el-icon-arrow-right"></i>',point:p});else for(var d in n[a].content[c].partContent){var u=l+n[a].content[c].partContent[d].chapterTitle,h=p+"-"+String(d);if(n[a].content[c].partContent[d].chapterDes.indexOf(t.keyword)>-1)n[a].content[c].partContent[d].chapterDes.replace(new RegExp(t.keyword,"g"),"<span>".concat(t.keyword,"</span>")),s.matchArr.push({title:u+" "+n[a].content[c].partContent[d].chapterDes+'<i class="el-icon-arrow-right"></i>',point:h});else for(var f in n[a].content[c].partContent[d].chapterContent){var w=u+n[a].content[c].partContent[d].chapterContent[f].articleTitle,v=h+"-"+String(f),g=n[a].content[c].partContent[d].chapterContent[f].articleContent.replace(new RegExp("<br>","g"),""),y=g.indexOf(t.keyword);if(y>-1){var m=y>=5?y-5:0,k=y+t.keyword.length+5;g=g.substring(m,k),g=g.replace(new RegExp(t.keyword,"g"),"<span>".concat(t.keyword,"</span>")),s.matchArr.push({title:w+" "+g+'<i class="el-icon-arrow-right"></i>',point:v})}}}}r.push(s)}t.dataArr=r}t.showTip=!0})).catch((function(e){console.log(e),t.searchLoading=!1}))):alert("请输入关键词")},showDetail:function(t,e){this.$router.push({name:"SearchDetail",query:{id:t,point:e,keyword:this.keywordOld}})}}}),a=o,s=(n("bf1a"),n("2877")),c=Object(s["a"])(a,r,i,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-47830218.43c70aed.js.map